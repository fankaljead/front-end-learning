# 第3章 类型 值 变量

> 计算机程序通过操作值和文本来工作。编程语言中这些可以表示和操作的值被成为 **类型**，而一门语言支持的类型集也是这门语言最基本的特征。程序在需要把某个值保存下来以便将来使用时，会把这个值赋值或存入      **变量**。 变量有名字，程序可以通过这些名字来引用值。变量的工作方式是一门编程语言的另一个基本特征。

## 3.1 概述和定义

JavaScript 类型可以分为两类：

- **原始类型**
    - 数值
    - 字符串
    - 布尔值
    - `null`
    - `undefined`
    - Symbol 类型
- **对象类型** 除开原始类型之外的对象。**对象** 是属性的集合
    - **基本对象** 一个命名值得无序集合
    - 数组
    - Set
    - Map
    - RexExp
    - Date
    - Error
- **JavaScript 与静态语言的更大的区别**
    - **函数和类不仅仅是语言的语法，本身就是可以被 JavaScript 操作的值**
    - 为特殊对象
- **内存管理** JavaScript 解释器会执行自动垃圾收集
- 在 JavaScript 中，只用 `null` 和 `undefined` 是不能调用方法的值
- JavaScript 的对象类型是可修改的 mutable，而原始类型是不可修改的 immutable

## 3.2 数值

JavaScript 的主要数值类型 Number 用于表示整数和近似实数。使用 IEEE 754 标准定义的 64 位浮点格式表示数值

- 可以表示的最大整数是  **$\pm 1.797 693 134 862 315 7 \times 10^{308}$**
- 最小整数是 **$\pm 5 \times 10^{-324}$**
- 可以准确表示 **$-9 007 254 740 992 (-2^{53})$** 到 **$9 007 199 254 740 992 (2^{53})$** 之间的所有整数

### 3.2.1 整数字面量

- 十进制: 0, 2, 100
- 十六进制: 0x 或 0X 开头
- 八进制: 0o 或 0O
- 二进制: 0b 或 0B

### 3.2.2 浮点字面量

- 指数计数法

    **[digits][.digits](E|e)[(+|-)]digits**

- 数值字面量中的分隔符

    ```js
    let billion = 1_000_000_000;
    let bytes = 0x89_ab_cd_ef;
    let bits = 0b0001_1110;
    let fraction = 0.123_456_789;
    ```

    

### 3.2.3 JavaScript 中的算术

算数操作符

- +
- -
- *
- /
- % 去模
- ** 取幂

Math 对象的属性提供了一组函数和常量

**JavaScript 中算数在遇到上溢出、下溢出和被零除时不会发生错误**

- 在数值操作的结果超过最大可表示数值值时，为 Infinity

- 某个赋值的绝对值超过了最大可表示负数的绝对值时，为 -Infinity
- 0 / 0、无穷/无穷、负数平方根或无法转换为数值的非数值作为算数操作符的操作数时 为 NaN
    - NaN 与任何值比较都不相等，也不等于自己

### 3.2.4 二进制浮点数与舍入错误

实数有无限多个，但 JavaScript 浮点格式只能表示有限多个（18 437 736 874 454 810 627 个）

例如 0.3 - 0.2 != 0.2 - 0.1

### 3.2.5 通过 BigInt 表示任意精度整数

BigInt 字面量写作一串数字后跟小写字母 n。默认情况下，基数是 10
